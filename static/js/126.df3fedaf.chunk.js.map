{"version":3,"file":"static/js/126.df3fedaf.chunk.js","mappings":"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","sources":["webpack://signup/./src/stylee/setting.module.css?cb33","components/settings.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"body\":\"setting_body__u30RC\",\"header\":\"setting_header__WQIsm\",\"ul\":\"setting_ul__4ZkUA\",\"dropRight\":\"setting_dropRight__cdTZP\",\"li\":\"setting_li__PRrLj\",\"active\":\"setting_active__mbrTk\"};","import React, { useEffect, useState } from \"react\";\r\nimport { RiArrowDropRightLine } from \"react-icons/ri\";\r\nimport style from \"../stylee/setting.module.css\";\r\nimport axios from \"axios\";\r\nconst Settings = () => {\r\n  const [activeIndex, setActiveIndex] = useState(2);\r\n  const [isActive, setIsActive] = useState(true);\r\n  const [element, setElement] = useState(2);\r\n  const [state, setState] = useState();\r\n  const [inputValue, setInpValue] = useState({});\r\n  const [current, setCurrent] = useState();\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [successChangeMessage, setSuccessChangeMessage] = useState(\"\");\r\n  const [errorChangeMessage, setErrorChangeMessage] = useState(\"\");\r\n  let [update ,setUpdate ]=useState()\r\n  const handleClick = (id) => {\r\n    setActiveIndex(activeIndex === id ? -1 : id);\r\n    setElement(id);\r\n  };\r\n  let getInfo = (e) => {\r\n    console.log(e);\r\n    let { name, value } = e.target;\r\n    setInpValue((old) => ({\r\n      ...old,\r\n      [name]: value,\r\n    }));\r\n    console.log(inputValue);\r\n    console.log(current.password);\r\n  };\r\n  let ChangePass = () => {\r\n    console.log(inputValue);\r\n    if (inputValue.pass1 === current.password) {\r\n      axios.get(`https://subjects-proj-data.onrender.com/all/${current.id}`)\r\n      .then((res)=>{\r\n      setCurrent((old)=>({...old,password:inputValue.pass2}))\r\n        axios.put(`https://subjects-proj-data.onrender.com/all/${current.id}`, {\r\n          ...res.data,\r\n          password: inputValue.pass2,\r\n        })\r\n        .then(() => {\r\n          setSuccessChangeMessage(\"Password changed\");\r\n          setErrorChangeMessage(\"\");\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          setErrorChangeMessage(\"Something went wrong\");\r\n          setSuccessChangeMessage(\"\");\r\n        });\r\n      })\r\n      .catch(err=>console.log(err))\r\n      \r\n    } else {\r\n      console.log(\"error\");\r\n      setErrorMessage(\"Incorrect password\");\r\n      setSuccessMessage(\"\");\r\n    }\r\n  };\r\n  let Delete_fun = () => {\r\n    if (state === \"admin\") {\r\n      axios\r\n        .delete(`https://subjects-proj-data.onrender.com/all/${inputValue.userID}`)\r\n        .then(() => {\r\n          setSuccessMessage(\"User deleted successfuly\");\r\n          setErrorMessage(\"\");\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          setErrorMessage(\"User not found\");\r\n          setSuccessMessage(\"\");\r\n        });\r\n    } else {\r\n      if (inputValue.password === current.password) {\r\n        axios\r\n          .delete(`https://subjects-proj-data.onrender.com/all/${current.id}`)\r\n          .then(() => {\r\n            setSuccessMessage(\"User deleted\");\r\n            setErrorMessage(\"\");\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n            setErrorMessage(\"Something went wrong\");\r\n            setSuccessMessage(\"\");\r\n          });\r\n      } else {\r\n        \r\n        setErrorMessage(\"Incorrect password\");\r\n        setSuccessMessage(\"\");\r\n      }\r\n    }\r\n  };\r\n\r\n  let st;\r\n  const getstate = () => {\r\n    axios\r\n      .get(\"https://subjects-proj-data.onrender.com/state\")\r\n      .then((res) => {\r\n        setCurrent(res.data);\r\n        st = res.data.state;\r\n        setState(st);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  useEffect(() => {\r\n    getstate();\r\n  }, []);\r\n\r\n  return (\r\n    <div className={style.body}>\r\n      <div className=\"container\">\r\n        <h3 className={`text-center f-weignt-bold ${style.header}`}>\r\n          Setting\r\n        </h3>\r\n        <ul className={style.ul}>\r\n          <li\r\n            id=\"1\"\r\n            className={`d-flex justify-content-between align-items-center ${style.li}`}\r\n            onClick={() => handleClick(1)}\r\n          >\r\n            {state === \"admin\" ? <span>Delete user</span> : <span>Delete my account</span>}\r\n            <span\r\n              className={`${style.dropRight} ${isActive && element === 1 ? style.active : \"\"}`}\r\n            >\r\n              <RiArrowDropRightLine />\r\n            </span>\r\n          </li>\r\n          {activeIndex === 1 && state === \"admin\" && (\r\n\r\n            <div className=\"pb-3\">\r\n              <div class=\"col-auto\">\r\n                <label for=\"inputPassword0\" class=\"col-form-label\">\r\n                  User Id:\r\n                </label>\r\n              </div>\r\n              <div class=\"col-auto\">\r\n                <input\r\n                  type=\"number\"\r\n                  id=\"inputPassword0\"\r\n                  class=\"form-control\"\r\n                  aria-describedby=\"passwordHelpInline\"\r\n                  name=\"userID\"\r\n                  onChange={getInfo}\r\n                />\r\n                {successMessage && <div className=\"alert alert-success mt-3\">{successMessage}</div>}\r\n                {errorMessage && <div className=\"alert alert-danger mt-3\">{errorMessage}</div>}\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-danger mt-3 d-flex mx-auto\"\r\n                  id=\"inputPassword0\"\r\n                  onClick={Delete_fun}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {activeIndex === 1 && state === \"user\" && (\r\n            <div className=\"pb-3\">\r\n              <form action=\"\" method=\"get\">\r\n                <div class=\"col-auto\">\r\n                  <label for=\"inputPassword0\" class=\"col-form-label\">\r\n                    Password:\r\n                  </label>\r\n                </div>\r\n                <div class=\"col-auto\">\r\n                  <input\r\n                    type=\"password\"\r\n                    id=\"inputPassword0\"\r\n                    class=\"form-control\"\r\n                    aria-describedby=\"passwordHelpInline\"\r\n                    name=\"password\"\r\n                    onChange={getInfo}\r\n                  />\r\n                </div>\r\n                {successMessage && <div className=\"alert alert-success mt-2\">{successMessage}</div>}\r\n                {errorMessage && <div className=\"alert alert-danger mt-2\">{errorMessage}</div>}\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-danger mt-3 d-flex mx-auto\"\r\n                  onClick={Delete_fun}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </form>\r\n            </div>\r\n          )}\r\n          <li\r\n            id=\"2\"\r\n            className={`d-flex justify-content-between align-items-center ${style.li}`}\r\n            onClick={() => handleClick(2)}\r\n          >\r\n            Change Password\r\n            <span\r\n              className={`${style.dropRight} ${isActive && element === 2 ? style.active : \"\"}`}\r\n            >\r\n              <RiArrowDropRightLine />\r\n            </span>\r\n          </li>\r\n          {activeIndex === 2 && (\r\n            <div className=\"pb-3\">\r\n              <div class=\" g-3 align-items-center\">\r\n                <div class=\"col-auto\">\r\n                  <label for=\"inputPassword6\" class=\"col-form-label\">\r\n                    Old Password:\r\n                  </label>\r\n                </div>\r\n                <div class=\"col-auto\">\r\n                  <input\r\n                    type=\"password\"\r\n                    id=\"inputPassword6\"\r\n                    class=\"form-control\"\r\n                    aria-describedby=\"passwordHelpInline\"\r\n                    name=\"pass1\"\r\n                    onChange={getInfo}\r\n                  />\r\n                </div>\r\n                <div class=\"col-auto\"></div>\r\n                <div class=\"col-auto \">\r\n                  <label for=\"inputPassword\" class=\"col-form-label\">\r\n                    New Password:\r\n                  </label>\r\n                </div>\r\n                <div class=\"col-auto\">\r\n                  <input\r\n                    type=\"password\"\r\n                    id=\"inputPassword\"\r\n                    class=\"form-control\"\r\n                    aria-describedby=\"passwordHelpInline\"\r\n                    required\r\n                    name=\"pass2\"\r\n                    onChange={getInfo}\r\n                  />\r\n                </div>\r\n                <span id=\"passwordHelpInline\" class=\"form-text\">\r\n                  Must be 8-20 characters long.\r\n                </span>\r\n              \r\n                {successChangeMessage && <div className=\"alert alert-success mt-2\">{successChangeMessage}</div>}\r\n                {errorChangeMessage && <div className=\"alert alert-danger mt-2\">{errorChangeMessage}</div>}\r\n                <button type=\"submit\" className=\"btn btn-success mt-3 d-flex mx-auto\" onClick={ChangePass}>\r\n                  Change\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;"],"names":["st","_useState","useState","_useState2","_slicedToArray","activeIndex","setActiveIndex","_useState3","_useState4","isActive","_useState5","_useState6","element","setElement","_useState7","_useState8","state","setState","_useState9","_useState10","inputValue","setInpValue","_useState11","_useState12","current","setCurrent","_useState13","_useState14","successMessage","setSuccessMessage","_useState15","_useState16","errorMessage","setErrorMessage","_useState17","_useState18","successChangeMessage","setSuccessChangeMessage","_useState19","_useState20","errorChangeMessage","setErrorChangeMessage","_useState21","_useState22","handleClick","id","getInfo","e","console","log","_e$target","target","name","value","old","_objectSpread","_defineProperty","password","Delete_fun","axios","delete","concat","userID","then","catch","err","useEffect","get","res","data","_jsx","className","style","children","_jsxs","onClick","RiArrowDropRightLine","class","for","type","onChange","action","method","required","pass1","pass2","put"],"sourceRoot":""}
"use strict";(self.webpackChunksignup=self.webpackChunksignup||[]).push([[126],{7126:function(s,e,t){t.r(e),t.d(e,{default:function(){return x}});var n=t(4942),a=t(1413),c=t(9439),l=t(2791),o=t(7425),r="setting_body__u30RC",i="setting_header__WQIsm",d="setting_ul__4ZkUA",u="setting_dropRight__cdTZP",p="setting_li__PRrLj",h="setting_active__mbrTk",m=t(1243),j=t(184),x=function(){var s,e=(0,l.useState)(2),t=(0,c.Z)(e,2),x=t[0],f=t[1],g=(0,l.useState)(!0),b=(0,c.Z)(g,2),w=b[0],v=(b[1],(0,l.useState)(2)),Z=(0,c.Z)(v,2),N=Z[0],_=Z[1],y=(0,l.useState)(),C=(0,c.Z)(y,2),P=C[0],S=C[1],k=(0,l.useState)({}),I=(0,c.Z)(k,2),D=I[0],H=I[1],U=(0,l.useState)(),R=(0,c.Z)(U,2),T=R[0],$=R[1],q=(0,l.useState)(""),A=(0,c.Z)(q,2),E=A[0],L=A[1],M=(0,l.useState)(""),O=(0,c.Z)(M,2),Q=O[0],W=O[1],z=(0,l.useState)(""),B=(0,c.Z)(z,2),F=B[0],G=B[1],J=(0,l.useState)(""),K=(0,c.Z)(J,2),V=K[0],X=K[1],Y=(0,l.useState)(),ss=(0,c.Z)(Y,2),es=(ss[0],ss[1],function(s){f(x===s?-1:s),_(s)}),ts=function(s){console.log(s);var e=s.target,t=e.name,c=e.value;H((function(s){return(0,a.Z)((0,a.Z)({},s),{},(0,n.Z)({},t,c))})),console.log(D),console.log(T.password)},ns=function(){"admin"===P?m.Z.delete("https://subjects-proj-data.onrender.com/all/".concat(D.userID)).then((function(){L("User deleted successfuly"),W("")})).catch((function(s){console.log(s),W("User not found"),L("")})):D.password===T.password?m.Z.delete("https://subjects-proj-data.onrender.com/all/".concat(T.id)).then((function(){L("User deleted"),W("")})).catch((function(s){console.log(s),W("Something went wrong"),L("")})):(W("Incorrect password"),L(""))};return(0,l.useEffect)((function(){m.Z.get("https://subjects-proj-data.onrender.com/state").then((function(e){$(e.data),s=e.data.state,S(s)})).catch((function(s){return console.log(s)}))}),[]),(0,j.jsx)("div",{className:r,children:(0,j.jsxs)("div",{className:"container",children:[(0,j.jsx)("h3",{className:"text-center f-weignt-bold ".concat(i),children:"Setting"}),(0,j.jsxs)("ul",{className:d,children:[(0,j.jsxs)("li",{id:"1",className:"d-flex justify-content-between align-items-center ".concat(p),onClick:function(){return es(1)},children:["admin"===P?(0,j.jsx)("span",{children:"Delete user"}):(0,j.jsx)("span",{children:"Delete my account"}),(0,j.jsx)("span",{className:"".concat(u," ").concat(w&&1===N?h:""),children:(0,j.jsx)(o.Cs$,{})})]}),1===x&&"admin"===P&&(0,j.jsxs)("div",{className:"pb-3",children:[(0,j.jsx)("div",{class:"col-auto",children:(0,j.jsx)("label",{for:"inputPassword0",class:"col-form-label",children:"User Id:"})}),(0,j.jsxs)("div",{class:"col-auto",children:[(0,j.jsx)("input",{type:"number",id:"inputPassword0",class:"form-control","aria-describedby":"passwordHelpInline",name:"userID",onChange:ts}),E&&(0,j.jsx)("div",{className:"alert alert-success mt-3",children:E}),Q&&(0,j.jsx)("div",{className:"alert alert-danger mt-3",children:Q}),(0,j.jsx)("button",{type:"submit",className:"btn btn-danger mt-3 d-flex mx-auto",id:"inputPassword0",onClick:ns,children:"Delete"})]})]}),1===x&&"user"===P&&(0,j.jsx)("div",{className:"pb-3",children:(0,j.jsxs)("form",{action:"",method:"get",children:[(0,j.jsx)("div",{class:"col-auto",children:(0,j.jsx)("label",{for:"inputPassword0",class:"col-form-label",children:"Password:"})}),(0,j.jsx)("div",{class:"col-auto",children:(0,j.jsx)("input",{type:"password",id:"inputPassword0",class:"form-control","aria-describedby":"passwordHelpInline",name:"password",onChange:ts})}),E&&(0,j.jsx)("div",{className:"alert alert-success mt-2",children:E}),Q&&(0,j.jsx)("div",{className:"alert alert-danger mt-2",children:Q}),(0,j.jsx)("button",{type:"submit",className:"btn btn-danger mt-3 d-flex mx-auto",onClick:ns,children:"Delete"})]})}),(0,j.jsxs)("li",{id:"2",className:"d-flex justify-content-between align-items-center ".concat(p),onClick:function(){return es(2)},children:["Change Password",(0,j.jsx)("span",{className:"".concat(u," ").concat(w&&2===N?h:""),children:(0,j.jsx)(o.Cs$,{})})]}),2===x&&(0,j.jsx)("div",{className:"pb-3",children:(0,j.jsxs)("div",{class:" g-3 align-items-center",children:[(0,j.jsx)("div",{class:"col-auto",children:(0,j.jsx)("label",{for:"inputPassword6",class:"col-form-label",children:"Old Password:"})}),(0,j.jsx)("div",{class:"col-auto",children:(0,j.jsx)("input",{type:"password",id:"inputPassword6",class:"form-control","aria-describedby":"passwordHelpInline",name:"pass1",onChange:ts})}),(0,j.jsx)("div",{class:"col-auto"}),(0,j.jsx)("div",{class:"col-auto ",children:(0,j.jsx)("label",{for:"inputPassword",class:"col-form-label",children:"New Password:"})}),(0,j.jsx)("div",{class:"col-auto",children:(0,j.jsx)("input",{type:"password",id:"inputPassword",class:"form-control","aria-describedby":"passwordHelpInline",required:!0,name:"pass2",onChange:ts})}),(0,j.jsx)("span",{id:"passwordHelpInline",class:"form-text",children:"Must be 8-20 characters long."}),F&&(0,j.jsx)("div",{className:"alert alert-success mt-2",children:F}),V&&(0,j.jsx)("div",{className:"alert alert-danger mt-2",children:V}),(0,j.jsx)("button",{type:"submit",className:"btn btn-success mt-3 d-flex mx-auto",onClick:function(){console.log(D),D.pass1===T.password?m.Z.get("https://subjects-proj-data.onrender.com/all/".concat(T.id)).then((function(s){$((function(s){return(0,a.Z)((0,a.Z)({},s),{},{password:D.pass2})})),m.Z.put("https://subjects-proj-data.onrender.com/all/".concat(T.id),(0,a.Z)((0,a.Z)({},s.data),{},{password:D.pass2})).then((function(){G("Password changed"),X("")})).catch((function(s){console.log(s),X("Something went wrong"),G("")}))})).catch((function(s){return console.log(s)})):(console.log("error"),W("Incorrect password"),L(""))},children:"Change"})]})})]})]})})}}}]);
//# sourceMappingURL=126.df3fedaf.chunk.js.map
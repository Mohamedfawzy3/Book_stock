"use strict";(self.webpackChunksignup=self.webpackChunksignup||[]).push([[126],{7126:function(s,e,t){t.r(e),t.d(e,{default:function(){return x}});var n=t(4942),a=t(1413),c=t(9439),l=t(2791),o=t(7425),r="setting_body__kW8Kf",i="setting_header__ZMEJc",d="setting_ul__CYlbb",u="setting_dropRight__+OsvY",p="setting_li__yovuX",h="setting_active__j5MTh",m=t(1243),j=t(184),x=function(){var s,e=(0,l.useState)(2),t=(0,c.Z)(e,2),x=t[0],f=t[1],b=(0,l.useState)(!0),g=(0,c.Z)(b,2),w=g[0],v=(g[1],(0,l.useState)(2)),Z=(0,c.Z)(v,2),N=Z[0],_=Z[1],y=(0,l.useState)(),C=(0,c.Z)(y,2),P=C[0],S=C[1],k=(0,l.useState)({}),I=(0,c.Z)(k,2),D=I[0],H=I[1],U=(0,l.useState)(),M=(0,c.Z)(U,2),E=M[0],O=M[1],Y=(0,l.useState)(""),$=(0,c.Z)(Y,2),q=$[0],J=$[1],K=(0,l.useState)(""),R=(0,c.Z)(K,2),T=R[0],W=R[1],X=(0,l.useState)(""),z=(0,c.Z)(X,2),A=z[0],B=z[1],F=(0,l.useState)(""),G=(0,c.Z)(F,2),L=G[0],Q=G[1],V=(0,l.useState)(),ss=(0,c.Z)(V,2),es=(ss[0],ss[1],function(s){f(x===s?-1:s),_(s)}),ts=function(s){console.log(s);var e=s.target,t=e.name,c=e.value;H((function(s){return(0,a.Z)((0,a.Z)({},s),{},(0,n.Z)({},t,c))})),console.log(D),console.log(E.password)},ns=function(){"admin"===P?m.Z.delete("https://subjects-proj-data.onrender.com/all/".concat(D.userID)).then((function(){J("User deleted successfuly"),W("")})).catch((function(s){console.log(s),W("User not found"),J("")})):D.password===E.password?m.Z.delete("https://subjects-proj-data.onrender.com/all/".concat(E.id)).then((function(){J("User deleted"),W("")})).catch((function(s){console.log(s),W("Something went wrong"),J("")})):(W("Incorrect password"),J(""))};return(0,l.useEffect)((function(){m.Z.get("https://subjects-proj-data.onrender.com/state").then((function(e){O(e.data),s=e.data.state,S(s)})).catch((function(s){return console.log(s)}))}),[]),(0,j.jsx)("div",{className:r,children:(0,j.jsxs)("div",{className:"container",children:[(0,j.jsx)("h3",{className:"text-center f-weignt-bold ".concat(i),children:"Setting"}),(0,j.jsxs)("ul",{className:d,children:[(0,j.jsxs)("li",{id:"1",className:"d-flex justify-content-between align-items-center ".concat(p),onClick:function(){return es(1)},children:["admin"===P?(0,j.jsx)("span",{children:"Delete user"}):(0,j.jsx)("span",{children:"Delete my account"}),(0,j.jsx)("span",{className:"".concat(u," ").concat(w&&1===N?h:""),children:(0,j.jsx)(o.Cs$,{})})]}),1===x&&"admin"===P&&(0,j.jsxs)("div",{className:"pb-3",children:[(0,j.jsx)("div",{class:"col-auto",children:(0,j.jsx)("label",{for:"inputPassword0",class:"col-form-label",children:"User Id:"})}),(0,j.jsxs)("div",{class:"col-auto",children:[(0,j.jsx)("input",{type:"number",id:"inputPassword0",class:"form-control","aria-describedby":"passwordHelpInline",name:"userID",onChange:ts}),q&&(0,j.jsx)("div",{className:"alert alert-success mt-3",children:q}),T&&(0,j.jsx)("div",{className:"alert alert-danger mt-3",children:T}),(0,j.jsx)("button",{type:"submit",className:"btn btn-danger mt-3 d-flex mx-auto",id:"inputPassword0",onClick:ns,children:"Delete"})]})]}),1===x&&"user"===P&&(0,j.jsx)("div",{className:"pb-3",children:(0,j.jsxs)("form",{action:"",method:"get",children:[(0,j.jsx)("div",{class:"col-auto",children:(0,j.jsx)("label",{for:"inputPassword0",class:"col-form-label",children:"Password:"})}),(0,j.jsx)("div",{class:"col-auto",children:(0,j.jsx)("input",{type:"password",id:"inputPassword0",class:"form-control","aria-describedby":"passwordHelpInline",name:"password",onChange:ts})}),q&&(0,j.jsx)("div",{className:"alert alert-success mt-2",children:q}),T&&(0,j.jsx)("div",{className:"alert alert-danger mt-2",children:T}),(0,j.jsx)("button",{type:"submit",className:"btn btn-danger mt-3 d-flex mx-auto",onClick:ns,children:"Delete"})]})}),(0,j.jsxs)("li",{id:"2",className:"d-flex justify-content-between align-items-center ".concat(p),onClick:function(){return es(2)},children:["Change Password",(0,j.jsx)("span",{className:"".concat(u," ").concat(w&&2===N?h:""),children:(0,j.jsx)(o.Cs$,{})})]}),2===x&&(0,j.jsx)("div",{className:"pb-3",children:(0,j.jsxs)("div",{class:" g-3 align-items-center",children:[(0,j.jsx)("div",{class:"col-auto",children:(0,j.jsx)("label",{for:"inputPassword6",class:"col-form-label",children:"Old Password:"})}),(0,j.jsx)("div",{class:"col-auto",children:(0,j.jsx)("input",{type:"password",id:"inputPassword6",class:"form-control","aria-describedby":"passwordHelpInline",name:"pass1",onChange:ts})}),(0,j.jsx)("div",{class:"col-auto"}),(0,j.jsx)("div",{class:"col-auto ",children:(0,j.jsx)("label",{for:"inputPassword",class:"col-form-label",children:"New Password:"})}),(0,j.jsx)("div",{class:"col-auto",children:(0,j.jsx)("input",{type:"password",id:"inputPassword",class:"form-control","aria-describedby":"passwordHelpInline",required:!0,name:"pass2",onChange:ts})}),(0,j.jsx)("span",{id:"passwordHelpInline",class:"form-text",children:"Must be 8-20 characters long."}),A&&(0,j.jsx)("div",{className:"alert alert-success mt-2",children:A}),L&&(0,j.jsx)("div",{className:"alert alert-danger mt-2",children:L}),(0,j.jsx)("button",{type:"submit",className:"btn btn-success mt-3 d-flex mx-auto",onClick:function(){console.log(D),D.pass1===E.password?m.Z.get("https://subjects-proj-data.onrender.com/all/".concat(E.id)).then((function(s){O((function(s){return(0,a.Z)((0,a.Z)({},s),{},{password:D.pass2})})),m.Z.put("https://subjects-proj-data.onrender.com/all/".concat(E.id),(0,a.Z)((0,a.Z)({},s.data),{},{password:D.pass2})).then((function(){B("Password changed"),Q("")})).catch((function(s){console.log(s),Q("Something went wrong"),B("")}))})).catch((function(s){return console.log(s)})):(console.log("error"),W("Incorrect password"),J(""))},children:"Change"})]})})]})]})})}}}]);
//# sourceMappingURL=126.8bb3cb2f.chunk.js.map